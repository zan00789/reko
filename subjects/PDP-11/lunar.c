// lunar.c
// Generated by decompiling lunar.lda
// using Reko decompiler version 0.8.1.0.

#include "lunar.h"

// 0128: void fn0128()
void fn0128()
{
	__wait();
	Eq_n r0_n = globals->t006C;
	if (r0_n != 0x00)
	{
		globals->t006C.u0 = 0x00;
		globals->t006E = r0_n;
		fn053A();
	}
}

// 0242: void fn0242(Register word16 r0, Register (ptr16 word16) r1)
void fn0242(word16 r0, word16 * r1)
{
	globals->w0080 = 0x00;
	globals->t0082.u0 = 0x00;
	globals->t0086.u0 = 0x7FFF;
	word16 r4_n = r0;
	word16 * r5_n = r1;
	while (true)
	{
		cui16 wLoc02_n = 0x00;
		Eq_n r3_n;
		word16 r2_n = fn02C8(r4_n + 0x02, out r3_n, out r4_n);
		ci16 r2_n = r2_n - globals->w0080;
		if (r2_n <= 0x00)
		{
			r2_n = -r2_n;
			wLoc02_n = 0x2000;
		}
		cu16 r2_n = __swab(r2_n & ~~0x3F);
		cu16 r2_n = __ror(r2_n, r2_n);
		globals->w0080 = r2_n;
		ci16 r3_n = r3_n - globals->t0082;
		if (r3_n <= 0x00)
		{
			r3_n = -r3_n;
			wLoc02_n |= 0x40;
		}
		globals->t0082 = r3_n;
		cui16 r3_n = r3_n & ~~0x3F;
		if (globals->t0086 - r3_n < 0x00)
			globals->t0086 = r3_n;
		*r5_n = r3_n | r2_n | wLoc02_n;
		++r5_n;
	}
}

// 02C8: Register word16 fn02C8(Register (ptr16 Eq_n) r4, Register out Eq_n r3Out, Register out ptr16 r4Out)
word16 fn02C8(struct Eq_n * r4, union Eq_n & r3Out, ptr16 & r4Out)
{
	word16 v16_n = fn125E((int16) r4->b0000, globals->t004A) - fn125E((int16) r4->b0001, globals->t004C);
	word16 r2_n = fn125E((int16) r4->b0001, globals->t004A) + fn125E((int16) r4->b0000, globals->t004C);
	r3Out = -v16_n;
	r4Out = &r4->b0001 + 0x01;
	return r2_n;
}

// 0300: void fn0300(Register Eq_n r4)
void fn0300(Eq_n r4)
{
	if (globals->t0068 == 0x00)
	{
		globals->w25C0 = 0xF700;
		globals->t0066.u0 = 0x00;
		globals->w006A = 14300;
		globals->w006A = (word16) globals->t0068 + globals->w006A;
		globals->t004E.u0 = 0x00;
		globals->t0050.u0 = 0x00;
		globals->t0052.u0 = 62866;
	}
	else
	{
		Eq_n r3_n;
		Eq_n r2_n;
		Eq_n r3_n;
		fn114A(globals->t0064, 10500, out r2_n, out r3_n);
		Eq_n r3_n;
		fn126C(100, r2_n, r3_n, out r3_n);
		globals->t0066 = r3_n;
		Eq_n r2_n;
		Eq_n r3_n;
		fn114A(globals->t006E, r3_n, out r2_n, out r3_n);
		word16 r3_n;
		fn126C(1500, r2_n, r3_n, out r3_n);
		ci16 r3_n = r3_n - globals->t0068;
		if (r3_n >= 0x00)
		{
			globals->w25C0 = 0xF700;
			r3_n.u0 = 0x00;
		}
		else
		{
			r3_n = -r3_n;
			if (globals->w25C0 != 0x00 && r3_n > 2000)
			{
				globals->w25C0 = 0x00;
				*(word16 *) 62466 = *(word16 *) 62466;
			}
		}
		globals->t0068 = r3_n;
		word16 r3_n;
		fn126C(0x0A, 0x00, r3_n, out r3_n);
		globals->w006A = r3_n + 14300;
		Eq_n r2_n;
		Eq_n r3_n;
		fn114A(globals->t0066, 0x3ED7, out r2_n, out r3_n);
		Eq_n r3_n;
		fn126C(r4, r2_n, r3_n, out r3_n);
		globals->t004E = r3_n;
		globals->t0050 = fn125E(r3_n, globals->t004A);
		globals->t0052 = fn125E(globals->t004E, globals->t004C) - 0x0A6E;
	}
}

// 03CE: void fn03CE(Register (ptr16 word16) r0)
void fn03CE(word16 * r0)
{
	int16 r2_n = (int16) (globals->t0064 >> 0x03)->b2766;
	++globals->w008A;
	int16 r2_n = r2_n + (int16) (globals->w008A & ~~0x1F)->b2773;
	globals->w008C += r2_n;
	ci16 r4_n;
	struct Eq_n * r5_n = globals->a27B0;
	byte * r3_n = (globals->w008C & ~~0x03) + 10131;
	for (r4_n = 0x0C; r4_n > 0x00; --r4_n)
	{
		r5_n->b0000 = *r3_n;
		int16 * r5_n = &r5_n->b0000 + 0x01;
		*r5_n = r2_n;
		++r3_n;
		r5_n = (struct Eq_n *) (r5_n + 0x04);
	}
	++globals->w0090;
	globals->w0090 &= ~~0x03;
	globals->w008E += 0x0180;
	globals->w008E &= ~~0x0380;
	globals->w27A8 = 0x8C54;
	globals->w27A8 |= globals->w0090;
	globals->w27A8 |= globals->w008E;
	fn0242(0x27A2, r0);
}

// 0444: void fn0444()
void fn0444()
{
	ci16 r0_n = globals->w0046;
	if (r0_n <= 0x00)
	{
		while (r0_n >= 65356)
		{
			r0_n += 0x0168;
			if (r0_n > 0x00)
				break;
		}
	}
	else
	{
		while (r0_n < 0xB4)
		{
			r0_n -= 0x0168;
			if (r0_n >= 0x00)
				break;
		}
	}
	globals->w0046 = r0_n;
	if (r0_n <= 0x00)
		r0_n += 0x0168;
	struct Eq_n * r0_n = r0_n << 0x01;
	globals->t004A = r0_n->t31DC;
	if (r0_n <= &globals->t021C)
		r0_n -= 0x02D0;
	globals->t004C = r0_n->t3290;
}

// 0488: void fn0488()
void fn0488()
{
	Eq_n r1_n = globals->t0050;
	if (r1_n <= 0x00)
		r1_n = -r1_n;
	Eq_n r2_n;
	Eq_n r3_n;
	fn114A(globals->t006E, r1_n, out r2_n, out r3_n);
	ci16 r3_n;
	fn126C(3000, r2_n, r3_n, out r3_n);
	if (globals->t0050 <= 0x00)
		r3_n = -r3_n;
	Eq_n r3_n = (r3_n >> 0x01) + globals->w0054;
	globals->w0054 += r3_n;
	Eq_n r1_n = r3_n;
	if (r3_n <= 0x00)
		r1_n = -r3_n;
	word16 r2_n;
	word16 r3_n;
	fn114A(globals->t006E, r1_n, out r2_n, out r3_n);
	Eq_n r3_n = (word16) globals->t0056 + r3_n;
	word16 r3_n;
	Eq_n r2_n = fn126C(600, (bool) (r3_n < 0x00) + r2_n, r3_n, out r3_n);
	if (r3_n <= 0x00)
		r3_n = -r3_n;
	globals->w005C += r3_n;
	globals->t0056 = r2_n;
	Eq_n r1_n = globals->t0052;
	if (r1_n <= 0x00)
		r1_n = -r1_n;
	Eq_n r2_n;
	Eq_n r3_n;
	fn114A(globals->t006E, r1_n, out r2_n, out r3_n);
	ci16 r3_n;
	fn126C(3000, r2_n, r3_n, out r3_n);
	if (globals->t0052 <= 0x00)
		r3_n = -r3_n;
	Eq_n r3_n = (word16) globals->t0058 + (r3_n >> 0x01);
	globals->t0058 = (word16) globals->t0058 + r3_n;
	Eq_n r1_n = r3_n;
	if (r3_n <= 0x00)
		r1_n = -r3_n;
	word16 r2_n;
	word16 r3_n;
	fn114A(globals->t006E, r1_n, out r2_n, out r3_n);
	Eq_n r3_n = (word16) globals->t005A + r3_n;
	word16 r3_n;
	Eq_n r2_n = fn126C(600, (bool) (r3_n < 0x00) + r2_n, r3_n, out r3_n);
	if (r3_n <= 0x00)
		r3_n = -r3_n;
	globals->t005E = (word16) globals->t005E + r3_n;
	globals->t005A = r2_n;
}

// 053A: void fn053A()
void fn053A()
{
}

// 0790: void fn0790()
void fn0790()
{
}

// 0856: void fn0856()
void fn0856()
{
l0856:
	word16 r2_n;
	int16 r3_n;
	Eq_n r4_n;
	fn1578(out r2_n, out r3_n, out r4_n);
	struct Eq_n * sp_n = (struct Eq_n *) <invalid>;
	word16 * r5_n = globals->ptr007E;
	if (r5_n >= null)
	{
		if (r5_n < &globals->w0003)
		{
			r4_n = globals->t0058;
			if (r4_n <= 64936)
			{
				if (r4_n <= 65236)
				{
					if (r4_n <= ~0x95)
					{
						if (globals->w34CA == 8458)
							globals->w34CA = 0x00;
					}
					else
						globals->w34CA = 8458;
				}
				else
					globals->w34CA = 8408;
			}
			else
				globals->w34CA = 0x20AC;
l0888:
			ui16 r0_n = globals->w0078;
			*(sp_n - 0x02) = r0_n;
			fn0CCA(r4_n, *(sp_n - 0x02));
			cui16 v62_n = *(sp_n - 0x02);
			switch (sp_n->w0000)
			{
			case 0x00:
				fn0790();
				return;
			case 0x01:
				if (r5_n < &globals->w001A)
				{
					fn0790();
					return;
				}
				ci16 v66_n = 64936 - r4_n;
				if (v66_n <= 0x00)
				{
					if (v66_n <= 0x00)
						goto l0904;
					globals->w34CA = 0x23FE;
					fn0E32();
					goto l0856;
				}
				else
				{
					globals->w34CA = 0x237E;
					*(sp_n - 0x02) = 0x03;
					if (globals->w0054 >= 0x00)
						++*(sp_n - 0x02);
					*(sp_n - 0x04) = r0_n;
					fn0C90(*(sp_n - 0x04), *(sp_n - 0x02));
					globals->t34B6 -= 0x10;
					fn0F04(r0_n, v62_n << 0x01, r2_n, r3_n, r4_n);
				}
			}
		}
	}
	else if (r5_n >= (word16 *) ~0x09)
		goto l0904;
	globals->t0060.u0 = 0x00;
	globals->w25AA = 0x01C2;
	globals->w34C2 = 0x00;
	globals->w34D2 = 0x00;
	if (r5_n != null && r5_n > null)
		goto l0888;
	Eq_n r4_n = globals->t0058;
	if (r4_n < 64936)
	{
		word16 r0_n;
		if (r4_n < 65236)
		{
			if (r4_n < ~0x95)
			{
				if (r4_n < ~0x4F)
					r0_n = 0x214E;
				else
					r0_n = 8566;
			}
			else
				r0_n = 0x21A4;
		}
		else
			r0_n = 0x21CE;
		ci16 r0_n;
		word16 r1_n;
		globals->w34C2 = 0x00;
		globals->w34CA = r0_n;
		if (globals->w0054 < 100 || globals->w0054 > ~0x63)
		{
l0964:
			r0_n = globals->w0054;
			r1_n = 0x22C6;
			goto l097C;
		}
		else
		{
			if (globals->w0046 <= ~0x0E && globals->w0046 >= 0x0F)
			{
				ui16 r1_n = globals->w0078;
				r0_n = *((char *) globals->a28F2 + r1_n * 0x02) - (&globals->w28F0)[r1_n];
				ci16 r2_n = r0_n;
				if (r0_n <= 0x00)
					r2_n = -r0_n;
				if (r2_n > 0x30)
				{
					fn0B06(r3_n, r4_n, r5_n);
					sp_n = &sp_n->w0000 + 0x01;
					goto l0964;
				}
				r1_n = 8980;
			}
			else
			{
				r0_n = globals->w0046;
				r1_n = 0x2258;
			}
l097C:
			globals->w34C2 = r1_n;
			ui16 r1_n = globals->w0078;
			ui16 * sp_n = sp_n - 0x02;
			*sp_n = 0x03;
			if (r0_n >= 0x00)
				++*sp_n;
			*(sp_n - 0x02) = r1_n;
			fn0C90(*(sp_n - 0x02), *sp_n);
			ui16 r2_n = *((char *) globals->a28F2 + r1_n * 0x02) - (&globals->w28F0)[r1_n];
			ci16 r2_n = r2_n - (r2_n * 0x03 >> 0x02);
			struct Eq_n * sp_n = (struct Eq_n *) <invalid>;
			ci16 r2_n = r2_n + (r2_n >> 0x01);
			if (r2_n <= 0x00)
			{
				if (r2_n > ~0x2C)
					r2_n = ~0x2C;
			}
			else if (r2_n < 0x2D)
				r2_n = 0x2D;
			ci16 r3_n = 0x5A;
			if (r0_n <= 0x00)
				r3_n = -0x5A;
			globals->w0046 = r2_n + r3_n;
			struct Eq_n * r1_n = (char *) globals->ptr0092 + 0x02 & ~~0x02;
			globals->ptr0092 = r1_n;
			word16 * r1_n = r1_n->ptr34AC;
			*(sp_n - 0x02) = r1_n;
			fn0444();
			fn0242(9944, r1_n);
		}
	}
l0904:
	globals->w34CA = 0x2212;
	ui16 r1_n;
	int16 r3_n;
	Eq_n r4_n;
	fn0F04(fn0E06(0x20, out r1_n, out r3_n, out r4_n), r1_n, r2_n, r3_n, r4_n);
}

// 0A0A: void fn0A0A()
void fn0A0A()
{
	if (globals->ptr007E <= &globals->w0096)
		globals->w34D2 = 0x00;
	else
	{
		Eq_n r4_n = globals->t0064;
		if (r4_n < 0x3F)
			r4_n.u0 = 0x3F;
		Eq_n r4_n = __rol(r4_n, r4_n);
		Eq_n r4_n = __rol(r4_n, r4_n);
		Eq_n r4_n = __rol(r4_n, r4_n);
		globals->w35CA = __rol(r4_n, r4_n) & ~~0x0380 | 0x9C50;
		if (globals->w0046 < 0x2D)
			globals->w34D2 = 0x00;
		else if (globals->w0046 > ~0x2C)
			globals->w34D2 = 0x00;
		else
		{
			Eq_n r1_n = globals->t004A;
			if (r1_n <= 0x00)
				r1_n = -r1_n;
			Eq_n r0_n = globals->t34B6 - globals->t007A;
			Eq_n r2_n;
			Eq_n r3_n;
			fn114A(r0_n, r1_n, out r2_n, out r3_n);
			word16 r3_n;
			fn126C(globals->t004C, r2_n, r3_n, out r3_n);
			ci16 r4_n = (word16) r0_n + r3_n;
			if (globals->t004A >= 0x00)
				r3_n = -r3_n;
			globals->w35CC = (word16) globals->t34B4 + r3_n;
			globals->t35CE = globals->t007A;
			globals->w35D0 = 0xB000;
			if (r4_n > 0x96)
				globals->w34D2 = 0x00;
			else
			{
				Eq_n r4_n = 0x96 - r4_n;
				ci16 r3_n;
				fn114A(r4_n, globals->t0064, out r2_n, out r3_n);
				fn0A94(r3_n >> 0x03, r4_n, &globals->w35D2);
			}
		}
	}
}

// 0A94: void fn0A94(Register int16 r3, Register Eq_n r4, Register (ptr16 word16) r5)
void fn0A94(int16 r3, Eq_n r4, word16 * r5)
{
	if (r3 >> 0x01 == 0x00)
		globals->w34D2 = 0x00;
	else
	{
		int16 wLoc02_n = r3 >> 0x01;
		if (r3 >> 0x01 < 600)
			wLoc02_n = 600;
		struct Eq_n * r2_n = globals->ptr00B0;
		do
		{
			struct Eq_n * r2_n = (char *) (r2_n + globals->w0070 / 0x00002767) + 0x01 & ~~0x3F;
			r2_n = r2_n + Mem29[0x0052:word16] & ~~0x3F;
			cu16 r0_n = __swab((int16) r2_n->b2766 & ~~0x3F);
			cui16 r4_n = ~r4 & ~~0x2000;
			cui16 r0_n = __ror(r0_n, r0_n) | (r4_n | 0x4000) | (int16) r2_n->b2766 & ~~0x3F;
			*r5 = r0_n;
			struct Eq_n * r5_n = r5 + 0x01;
			r5_n->w0000 = r0_n + 0x2040 & ~0xC000;
			int16 v24_n = wLoc02_n - 0x01;
			r4 = r4_n | 0x4000;
			r5 = (word16 *) &r5_n->w0002;
			wLoc02_n = v24_n;
			Mem29 = Mem58;
		} while (v24_n > 0x00);
		r5_n->w0002 = 0xF700;
		r5_n->w0004 = 0x00;
		globals->ptr00B0 = r2_n;
		fn0AF6();
	}
}

// 0AF6: void fn0AF6()
void fn0AF6()
{
	globals->w34D2 = 13770;
}

// 0B06: void fn0B06(Register int16 r3, Register Eq_n r4, Register (ptr16 word16) r5)
void fn0B06(int16 r3, Eq_n r4, word16 * r5)
{
	fn13AA(wLoc02);
	2828 = 0x0B0D;
	if (2828 != 0x00)
		fn0A94(r3, r4, r5);
	else
	{
		globals->t267A = globals->t34B4;
		do
		{
			globals->t267C = globals->t34B6;
			globals->w34D2 = 9848;
			ptr16 sp_n = fp;
			do
			{
				cu16 v11_n = globals->w0070 & 0x7F;
				globals->w0070 = v11_n;
			} while (v11_n != 0x00);
			if (globals->w07BA == 0x00)
				goto l0BD0;
			ci16 r3_n = globals->w2610 - globals->t34B4;
			word16 r2_n = globals->w2612 - globals->t267C;
			if (r2_n != 0x03)
				fn0C36(r2_n + 0x03, r3_n);
			word16 r3_n = globals->w2610 - globals->t267A;
			fn0C36(0x00, r3_n + 0x19);
			globals->w34CA = 0x24A2;
			// Failed to bind call argument.
			// Please report this issue at https://github.com/uxmal/reko
			struct Eq_n * stackArg0 = (struct Eq_n *) <invalid>;
			fn13AA(stackArg0);
			2920 = 2921;
			if (2920 != 0x00)
			{
				fn0AF6();
				return;
			}
			globals->w34CA = 0x00;
			// Failed to bind call argument.
			// Please report this issue at https://github.com/uxmal/reko
			struct Eq_n * stackArg0 = (struct Eq_n *) <invalid>;
			fn13AA(stackArg0);
			0x0B72 = 0x0B73;
			if (0x0B72 != 0x00)
			{
				fn0AF6();
				return;
			}
			ci16 v31_n = -(r3_n + 0x19);
			fn0C36(0x00, v31_n);
			ci16 r2_n = -(r2_n + 0x03);
			if (r2_n != 0x00)
				fn0C36(r2_n, v31_n);
			fn13AA(r2_n + 0x03);
			0x0B8E = 2959;
			Mem27 = Mem108;
		} while (0x0B8E != 0x00);
		globals->t005E = (word16) globals->t005E + 0x04;
		globals->t0068 = (word16) globals->t0068 + 2000;
		globals->t0058.u0 = 0x00;
		globals->t006C.u0 = 0x00;
		sp_n = 0x3FFE;
		do
		{
			globals->w34CA = 0x00;
			globals->w0046 = 0x00;
			globals->w0054 = 0x00;
			globals->t0060.u0 = 0x1E;
			fn0128();
		} while (globals->ptr009E != null);
		globals->w34BA = 0x00;
		globals->w34C2 = 0x00;
		fn13AA(r2_n + 0x03);
		__bpt();
l0BD0:
		ui16 * sp_n = sp_n - 0x02;
		*sp_n = 0x01;
		*(sp_n - 0x02) = globals->w0078;
		fn0C90(*(sp_n - 0x02), *sp_n);
		cu16 r5_n = globals->w0070;
		struct Eq_n * sp_n = (struct Eq_n *) <invalid>;
		ci16 r3_n = 0x30;
		if (__ror(r5_n, r5_n) < 0x00)
			r3_n = -0x30;
		*(sp_n - 0x02) = r3_n;
		fn0C36(~0x17, r3_n);
		fn0C36(0x00, *(sp_n - 0x02));
		globals->t26AC = globals->t267A;
		globals->t26AE = globals->t267C;
		globals->t26AC = (word16) globals->t26AC + 0x0014;
		globals->w34C2 = 9896;
		fn0C72();
	}
}

// 0C36: void fn0C36(Register ci16 r2, Register ci16 r3)
void fn0C36(ci16 r2, ci16 r3)
{
	word16 r5_n = 0x0A80;
	if (r3 <= 0x00)
		r5_n = 0x0AC0;
	globals->w0C72 = r5_n;
	fn0C72();
}

// 0C72: void fn0C72()
void fn0C72()
{
	__halt();
}

// 0C76: void fn0C76()
void fn0C76()
{
	do
	{
		cu16 v3_n = globals->w0070 & 0x07;
		globals->w0070 = v3_n;
	} while (v3_n == 0x00);
	fn1578(out r2_n, out r3_n, out r4_n);
	do
	{
		cu16 v9_n = globals->w0070 & 0x07;
		globals->w0070 = v9_n;
	} while (v9_n != 0x00);
	fn1578(out r2_n, out r3_n, out r4_n);
}

// 0C90: void fn0C90(Stack Eq_n wArg02, Stack ui16 wArg04)
void fn0C90(Eq_n wArg02, ui16 wArg04)
{
	if (wArg02 >> 0x01 < 0x00)
	{
		(wArg02 >> 0x01)->w3013 = (wArg02 >> 0x01)->w3013 & ~0xF0;
		wArg04 <<= 0x04;
	}
	else
		(wArg02 >> 0x01)->w3013 = (wArg02 >> 0x01)->w3013 & ~0x0F;
	(wArg02 >> 0x01)->w3013 = (wArg02 >> 0x01)->w3013 | wArg04;
}

// 0CCA: void fn0CCA(Register Eq_n r4, Stack ci16 wArg02)
void fn0CCA(Eq_n r4, ci16 wArg02)
{
}

// 0CEC: void fn0CEC(Register ui16 r0, Register ui16 r1, Register word16 r2, Register int16 r3, Register Eq_n r4)
void fn0CEC(ui16 r0, ui16 r1, word16 r2, int16 r3, Eq_n r4)
{
	struct Eq_n * r5_n = fn0D3C(r0, r1, r2, r3, r4, ptrLoc02);
	Eq_n r4_n = (globals->w28F0 >> 0x05) + 0x17;
	r5_n->t0000 = r4_n;
	globals->t0082 = r4_n;
	r5_n->w0002 = 0x8C50;
	struct Eq_n * sp_n = (struct Eq_n *) <invalid>;
	cui16 * r5_n = &r5_n->w0002 + 0x01;
	struct Eq_n * r0_n = &globals->w28F0;
	while (true)
	{
		++r0_n;
		r5_n = fn0D78((r0_n->w0000 >> 0x05) + 0x17, r5_n, sp_n->wFFFFFFFE);
	}
}

// 0D3C: Register word16 fn0D3C(Register ui16 r0, Register ui16 r1, Register word16 r2, Register int16 r3, Register Eq_n r4, Stack (ptr16 code) ptrArg00)
word16 fn0D3C(ui16 r0, ui16 r1, word16 r2, int16 r3, Eq_n r4, <anonymous> * ptrArg00)
{
	globals->w00A0 = 225;
	globals->w34DA = 0x00;
	globals->w07BA = 0x00;
	globals->a182A = 38996;
	globals->w182C = 0xF0A0;
	globals->w182E = 0x00;
	ptrArg00();
	return 0x1830;
}

// 0D66: void fn0D66(Stack word16 wArg0A)
void fn0D66(word16 wArg0A)
{
}

// 0D78: Register (ptr16 cui16) fn0D78(Register Eq_n r4, Register (ptr16 cui16) r5, Stack word16 wArg00)
cui16 * fn0D78(Eq_n r4, cui16 * r5, word16 wArg00)
{
	cui16 wLoc02_n = 0x0200;
	if (r4 <= 0x0400)
	{
		r4.u0 = 0x03FF;
		if (globals->t0082 == 0x03FF)
			goto l0D9C;
	}
	if (r4 <= 0x00)
	{
		r4.u0 = 0x00;
		if (globals->t0082 == 0x00)
		{
l0D9C:
			ci16 v18_n = globals->w00A2 - 0x01;
			globals->w00A2 = v18_n;
			if (v18_n <= 0x00)
			{
				++globals->w00A4;
				globals->w00A4 &= ~~0x03;
				++globals->w00A4;
				globals->w00A2 = globals->w00A4;
				globals->w00A6 += 0x0280;
				globals->w00A6 &= ~~0x0380;
				++globals->w00A8;
				globals->w00A8 &= ~~0x03;
				*r5 = globals->w00A6;
				*r5 |= globals->w00A8;
				*r5 |= 0x8C04;
				++r5;
			}
			cui16 r4_n;
			wchar_t r4_n = r4 - globals->t0082;
			if (r4_n <= 0x00)
			{
				cui16 r4_n = -r4_n & ~~0x3F;
				globals->t0082 -= r4_n;
				r4_n = r4_n | 0x40;
			}
			else
			{
				r4_n = r4_n & ~~0x3F;
				globals->t0082 = (word16) globals->t0082 + r4_n;
			}
			*r5 = r4_n | wLoc02_n;
			ci16 v43_n = globals->w00A0 - 0x01;
			globals->w00A0 = v43_n;
			cui16 * r5_n = r5 + 0x01;
			return r5_n;
		}
	}
	wLoc02_n = 0x4200;
	goto l0D9C;
}

// 0E06: Register int16 fn0E06(Register int16 r0, Register out (ptr16 word16) r1Out, Register out (ptr16 word16) r3Out, Register out Eq_n r4Out)
int16 fn0E06(int16 r0, word16 & r1Out, word16 & r3Out, union Eq_n & r4Out)
{
	Eq_n r1_n = globals->t0072;
	struct Eq_n * r1_n = (r1_n << 0x01) + 0x28F0;
	ui16 wLoc02_n = 0x03;
	word16 * r1_n = &r1_n->w0002;
	word16 * r3_n = &r1_n->w0002;
	if (r1_n->w0000 - r1_n->w0002 >= 0x00)
		wLoc02_n = 0x04;
	fn0C90(r1_n, wLoc02_n);
	do
	{
		*r1_n -= r0;
		r3_n -= 0x02;
		*r3_n -= r0;
		++r1_n;
		r0 = -(r0 >> 0x01);
	} while (r0 != 0x00);
	r1Out = r1_n;
	r3Out = r3_n;
	r4Out = r1_n;
	return r0;
}

// 0E32: void fn0E32()
void fn0E32()
{
	globals->w00AE = 0x00;
	globals->w34C2 = 0x00;
	globals->w34D2 = 0x00;
	*(word16 *) 62466 = *(word16 *) 62466;
	do
	{
		cu16 r4_n = __swab(globals->w00AC + 0x01);
		globals->w35CA = __ror(r4_n, r4_n) + globals->w35CA & ~~0x0380 | 0x9C50;
		struct Eq_n * r5_n = fn0E98(&globals->w35CC);
		*(word16 *) 62466 = *(word16 *) 62466;
		globals->w00AE -= 0x0A;
		struct Eq_n * r5_n = fn0E98(r5_n);
		r5_n->w0000 = 0xF700;
		r5_n->w0002 = 0x00;
		globals->w34C2 = 13770;
		*(word16 *) 62466 = *(word16 *) 62466;
		globals->w00AE += 33;
	} while (globals->w00AE >= 0xC0);
	// Failed to bind call argument.
	// Please report this issue at https://github.com/uxmal/reko
	struct Eq_n * stackArg0 = (struct Eq_n *) <invalid>;
	fn13AA(stackArg0);
	__reset();
	fn0E98(&r5_n->w0002);
}

// 0E98: Register (ptr16 Eq_n) fn0E98(Register (ptr16 Eq_n) r5)
struct Eq_n * fn0E98(struct Eq_n * r5)
{
	globals->w0046 = 65506;
	ci16 wLoc02_n = 0xF1;
	do
	{
		fn0444();
		int16 r0_n = (wLoc08 >> 0x01) + 0x01 + globals->w0070 + globals->w00AC;
		globals->w00AC = r0_n;
		Eq_n r4_n = (int16) (r0_n & ~~0x1F)->b2773 + globals->w00AE;
		if (r4_n >= 0x00)
		{
			word16 r2_n = fn125E(r4_n, globals->t004C) + Mem20[0x34B4:word16];
			if (r2_n < 0x00)
				goto l0EFE;
			r5->w0000 = r2_n | 0x4000;
			word16 * r5_n = &r5->w0002;
			word16 r2_n = fn125E(r4_n, globals->t004A) + Mem43[0x34B6:word16];
			if (r2_n >= 0x00)
			{
				*r5_n = r2_n;
				goto l0EF0;
			}
			*(r5_n - 0x02) = 0x00;
		}
l0EFE:
		r5->w0000 = 0x00;
		r5->w0002 = 0x00;
l0EF0:
		++globals->w0046;
		ci16 v29_n = wLoc02_n - 0x01;
		++r5;
		wLoc02_n = v29_n;
		Mem14 = Mem85;
	} while (v29_n > 0x00);
	return r5;
}

// 0F04: void fn0F04(Register ui16 r0, Register ui16 r1, Register word16 r2, Register int16 r3, Register Eq_n r4)
void fn0F04(ui16 r0, ui16 r1, word16 r2, int16 r3, Eq_n r4)
{
	struct Eq_n * r5_n = fn0D3C(r0, r1, r2, r3, r4, ptrLoc02);
	globals->w00AA = 0x00;
	int16 * r0_n = (globals->w0074 << 0x01) + 0x28F0;
	struct Eq_n * sp_n = (struct Eq_n *) <invalid>;
	Eq_n r4_n = fn100C(*r0_n);
	if (r4_n <= 0x00)
		r4_n.u0 = 0x00;
	else if (r4_n <= 0x0400)
		r4_n.u0 = 0x03FF;
	r5_n->t0000 = r4_n;
	globals->t0082 = r4_n;
	r5_n->w0002 = 0x8C50;
	cui16 * r5_n = &r5_n->w0002 + 0x01;
	while (true)
	{
		wchar_t r3_n;
		*(sp_n - 0x02) = (union Eq_n *) r4_n;
		Eq_n r4_n = fn100C(*r0_n);
		Eq_n v22_n = *(sp_n - 0x02);
		*(sp_n - 0x02) = r0_n + 0x01;
		r4_n = v22_n;
		ci16 r1_n = r4_n - v22_n;
		if (r1_n <= 0x00)
		{
			word16 r3_n;
			fn126C(0x0C, 0x00, 0x06 - r1_n, out r3_n);
			r3_n = -r3_n;
		}
		else
			fn126C(0x0C, 0x00, r1_n + 0x06, out r3_n);
		ci16 r2_n;
		r0_n = *(sp_n - 0x02);
		for (r2_n = 0x0C; r2_n > 0x00; --r2_n)
		{
			++globals->w00AA;
			if (globals->w00AA <= 0x03)
				globals->w0F70 = 0x0ADF;
			else if (globals->w00AA >= ~0x02)
				globals->w0F70 = 0x0A9F;
			Eq_n r4_n = (word16) r4_n.u0 + globals->w00AA + r3_n;
			*(sp_n - 0x02) = (union Eq_n *) r4_n;
			r5_n = fn0D78(r4_n, r5_n, sp_n->wFFFC);
			r4_n = *(sp_n - 0x02);
		}
	}
}

// 100C: Register int16 fn100C(Register int16 r4)
int16 fn100C(int16 r4)
{
	return (r4 * 0x03 >> 0x03) + 0x17;
}

// 103C: void fn103C(Register word16 r0, Register (ptr16 Eq_n) r3, Register (ptr16 Eq_n) r5, Stack (ptr16 Eq_n) wArg00)
void fn103C(word16 r0, struct Eq_n * r3, struct Eq_n * r5, struct Eq_n * wArg00)
{
	if (r5 < &globals->t1F96)
		return;
	r5->w0000 = 0x9800;
	r5->w0002 = r0;
	word16 r4_n = fn100C(r3->w0002) + fn100C(r3->w0000);
	globals->w0046 = wArg00->w0000;
	int16 r4_n = (r4_n >> 0x01) + wArg00->w0002;
	globals->w0084 = wArg00->w0004;
	r5->w0004 = r4_n;
	cup16 v31_n = r3->w0002 - r3->w0000;
	if (v31_n != 0x00)
	{
		if (v31_n <= 0x00)
			globals->w0046 += ~0x15;
		else
			globals->w0046 += 22;
	}
	fn0444();
	fn0242(9944, &r5->w0004 + 0x01);
}

// 114A: FlagGroup bool fn114A(Register Eq_n r0, Register Eq_n r1, Register out Eq_n r2Out, Register out Eq_n r3Out)
bool fn114A(Eq_n r0, Eq_n r1, union Eq_n & r2Out, union Eq_n & r3Out)
{
	Eq_n r2_n;
	cup16 v10_n = r0 - r1;
	Eq_n r3_n = 0x00;
	bool C_n = SLICE(cond(v10_n), bool, 0);
	if (v10_n < 0x00)
	{
		r2_n = r1;
		if (r1 == 0x00)
			goto l119E;
		r1 = r0;
	}
	else
	{
		r2_n = r0;
		if (r0 == 0x00)
			goto l119E;
	}
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n;
	Eq_n r2_n = __rol(r2_n, r2_n);
	if (r2_n >= 0x00)
	{
		r2_n = __rol(r2_n, r2_n);
		if (r2_n >= 0x00)
		{
			r2_n = __rol(r2_n, r2_n);
			if (r2_n >= 0x00)
			{
				r2_n = __rol(r2_n, r2_n);
				if (r2_n >= 0x00)
				{
					r2_n = __rol(r2_n, r2_n);
					if (r2_n >= 0x00)
					{
						r2_n = __rol(r2_n, r2_n);
						if (r2_n >= 0x00)
						{
							r2_n = __rol(r2_n, r2_n);
							if (r2_n >= 0x00)
							{
								r2_n = __rol(r2_n, r2_n);
								if (r2_n >= 0x00)
								{
									r2_n = __rol(r2_n, r2_n);
									if (r2_n >= 0x00)
									{
										r2_n = __rol(r2_n, r2_n);
										if (r2_n >= 0x00)
										{
											r2_n = __rol(r2_n, r2_n);
											if (r2_n >= 0x00)
											{
												r2_n = __rol(r2_n, r2_n);
												if (r2_n >= 0x00)
												{
													r2_n = __rol(r2_n, r2_n);
													if (r2_n >= 0x00)
													{
														r2_n = __rol(r2_n, r2_n);
														if (r2_n >= 0x00)
														{
															r2_n = __rol(r2_n, r2_n);
															if (r2_n >= 0x00)
															{
																r2_n.u0 = 0x00;
																C_n = false;
																r3_n = r1;
l119E:
																r2Out = r2_n;
																r3Out = r3_n;
																return C_n;
															}
															goto l122A;
														}
														goto l1220;
													}
													goto l1216;
												}
												goto l120C;
											}
											goto l1202;
										}
										goto l11F8;
									}
									goto l11EE;
								}
								goto l11E4;
							}
							goto l11DA;
						}
						goto l11D0;
					}
					goto l11C6;
				}
				goto l11BC;
			}
			goto l11B2;
		}
	}
	else
	{
		r3_n = r1 << 0x01;
		r2_n = __rol(r2_n, r2_n);
		if (r2_n >= 0x00)
			goto l11AC;
	}
	r3_n += r1;
	r2_n += r3_n <u 0x00;
l11AC:
	r3_n <<= 0x01;
	r2_n = __rol(r2_n, r2_n);
	if (r2_n >= 0x00)
	{
l11B6:
		r3_n <<= 0x01;
		r2_n = __rol(r2_n, r2_n);
		if (r2_n >= 0x00)
		{
l11C0:
			r3_n <<= 0x01;
			r2_n = __rol(r2_n, r2_n);
			if (r2_n >= 0x00)
			{
l11CA:
				r3_n <<= 0x01;
				r2_n = __rol(r2_n, r2_n);
				if (r2_n >= 0x00)
				{
l11D4:
					r3_n <<= 0x01;
					r2_n = __rol(r2_n, r2_n);
					if (r2_n >= 0x00)
					{
l11DE:
						r3_n <<= 0x01;
						r2_n = __rol(r2_n, r2_n);
						if (r2_n >= 0x00)
						{
l11E8:
							r3_n <<= 0x01;
							r2_n = __rol(r2_n, r2_n);
							if (r2_n >= 0x00)
							{
l11F2:
								r3_n <<= 0x01;
								r2_n = __rol(r2_n, r2_n);
								if (r2_n >= 0x00)
								{
l11FC:
									r3_n <<= 0x01;
									r2_n = __rol(r2_n, r2_n);
									if (r2_n >= 0x00)
									{
l1206:
										r3_n <<= 0x01;
										r2_n = __rol(r2_n, r2_n);
										if (r2_n >= 0x00)
										{
l1210:
											r3_n <<= 0x01;
											r2_n = __rol(r2_n, r2_n);
											if (r2_n >= 0x00)
											{
l121A:
												r3_n <<= 0x01;
												r2_n = __rol(r2_n, r2_n);
												if (r2_n >= 0x00)
												{
l1224:
													r3_n <<= 0x01;
													r2_n = __rol(r2_n, r2_n);
													if (r2_n >= 0x00)
													{
l122E:
														Eq_n r2_n = __rol(r2_n, r2_n);
														Eq_n r3_n = r3_n << 0x01;
														bool C_n = SLICE(cond(r2_n), bool, 0);
														if (r2_n < 0x00)
														{
															r3_n += r1;
															r2_n += r3_n <u 0x00;
															C_n = SLICE(cond(r2_n), bool, 0);
														}
														r2Out = r2_n;
														r3Out = r3_n;
														return C_n;
													}
l122A:
													r3_n += r1;
													r2_n += r3_n <u 0x00;
													goto l122E;
												}
l1220:
												r3_n += r1;
												r2_n += r3_n <u 0x00;
												goto l1224;
											}
l1216:
											r3_n += r1;
											r2_n += r3_n <u 0x00;
											goto l121A;
										}
l120C:
										r3_n += r1;
										r2_n += r3_n <u 0x00;
										goto l1210;
									}
l1202:
									r3_n += r1;
									r2_n += r3_n <u 0x00;
									goto l1206;
								}
l11F8:
								r3_n += r1;
								r2_n += r3_n <u 0x00;
								goto l11FC;
							}
l11EE:
							r3_n += r1;
							r2_n += r3_n <u 0x00;
							goto l11F2;
						}
l11E4:
						r3_n += r1;
						r2_n += r3_n <u 0x00;
						goto l11E8;
					}
l11DA:
					r3_n += r1;
					r2_n += r3_n <u 0x00;
					goto l11DE;
				}
l11D0:
				r3_n += r1;
				r2_n += r3_n <u 0x00;
				goto l11D4;
			}
l11C6:
			r3_n += r1;
			r2_n += r3_n <u 0x00;
			goto l11CA;
		}
l11BC:
		r3_n += r1;
		r2_n += r3_n <u 0x00;
		goto l11C0;
	}
l11B2:
	r3_n += r1;
	r2_n += r3_n <u 0x00;
	goto l11B6;
}

// 123A: Register word16 fn123A(Register Eq_n r0, Register Eq_n r1, Register out ptr16 r3Out)
word16 fn123A(Eq_n r0, Eq_n r1, ptr16 & r3Out)
{
	if (r0 <= 0x00)
	{
		r0 = -r0;
		if (r1 <= 0x00)
		{
			r1 = -r1;
l1246:
			word16 r2_n;
			ptr16 r3_n;
			fn114A(r0, r1, out r2_n, out r3_n);
			r3Out = r3_n;
			return r2_n;
		}
	}
	else
	{
		if (r1 > 0x00)
			goto l1246;
		r1 = -r1;
	}
	word16 r2_n;
	word16 r3_n;
	word16 r2_n = -((bool) fn114A(r0, r1, out r2_n, out r3_n) + r2_n);
	r3Out = -r3_n;
	return r2_n;
}

// 125E: Register Eq_n fn125E(Register Eq_n r0, Register Eq_n r1)
Eq_n fn125E(Eq_n r0, Eq_n r1)
{
	Eq_n r2_n = fn123A(r0, r1, out r3_n);
	Eq_n r2_n = __rol(r2_n, r2_n);
	return __rol(r2_n, r2_n);
}

// 126C: Register Eq_n fn126C(Register Eq_n r0, Register Eq_n r2, Register Eq_n r3, Register out Eq_n r3Out)
Eq_n fn126C(Eq_n r0, Eq_n r2, Eq_n r3, union Eq_n & r3Out)
{
	Eq_n r2_n;
	Eq_n r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n;
	ui16 r3_n;
	Eq_n r2_n = __rol(r2, r2) - r0;
	if (r2_n <= 0x00)
	{
		r3_n = r3 << 0x02;
		r2_n = __rol(r2_n, r2_n) + r0;
		if (r2_n <= 0x00)
		{
l127C:
			r3_n = r3_n << 0x01;
			r2_n = __rol(r2_n, r2_n) + r0;
			if (r2_n <= 0x00)
			{
l1284:
				r3_n = r3_n << 0x01;
				r2_n = __rol(r2_n, r2_n) + r0;
				if (r2_n <= 0x00)
				{
l128C:
					r3_n = r3_n << 0x01;
					r2_n = __rol(r2_n, r2_n) + r0;
					if (r2_n <= 0x00)
					{
l1294:
						r3_n = r3_n << 0x01;
						r2_n = __rol(r2_n, r2_n) + r0;
						if (r2_n <= 0x00)
						{
l129C:
							r3_n = r3_n << 0x01;
							r2_n = __rol(r2_n, r2_n) + r0;
							if (r2_n <= 0x00)
							{
l12A4:
								r3_n = r3_n << 0x01;
								r2_n = __rol(r2_n, r2_n) + r0;
								if (r2_n <= 0x00)
								{
l12AC:
									r3_n = r3_n << 0x01;
									r2_n = __rol(r2_n, r2_n) + r0;
									if (r2_n <= 0x00)
									{
l12B4:
										r3_n = r3_n << 0x01;
										r2_n = __rol(r2_n, r2_n) + r0;
										if (r2_n <= 0x00)
										{
l12BC:
											r3_n = r3_n << 0x01;
											r2_n = __rol(r2_n, r2_n) + r0;
											if (r2_n <= 0x00)
											{
l12C4:
												r3_n = r3_n << 0x01;
												r2_n = __rol(r2_n, r2_n) + r0;
												if (r2_n <= 0x00)
												{
l12CC:
													r3_n = r3_n << 0x01;
													r2_n = __rol(r2_n, r2_n) + r0;
													if (r2_n <= 0x00)
													{
l12D4:
														r3_n = r3_n << 0x01;
														r2_n = __rol(r2_n, r2_n) + r0;
														if (r2_n <= 0x00)
														{
l12DC:
															r3_n = r3_n << 0x01;
															r2_n = __rol(r2_n, r2_n) + r0;
															if (r2_n <= 0x00)
															{
l12E4:
																r3_n = r3_n << 0x01;
																r2_n = __rol(r2_n, r2_n) + r0;
																if (r2_n <= 0x00)
																{
l12EC:
																	r3Out = r3_n;
																	return r2_n + r0;
																}
l1386:
																Eq_n r3_n = (word16) r3_n + 0x01;
																r3Out = r3_n;
																return r2_n;
															}
l137C:
															r3_n = r3_n + 0x01 << 0x01;
															r2_n = __rol(r2_n, r2_n) - r0;
															if (r2_n < 0x00)
																goto l12EC;
															goto l1386;
														}
l1372:
														r3_n = r3_n + 0x01 << 0x01;
														r2_n = __rol(r2_n, r2_n) - r0;
														if (r2_n < 0x00)
															goto l12E4;
														goto l137C;
													}
l1368:
													r3_n = r3_n + 0x01 << 0x01;
													r2_n = __rol(r2_n, r2_n) - r0;
													if (r2_n < 0x00)
														goto l12DC;
													goto l1372;
												}
l135E:
												r3_n = r3_n + 0x01 << 0x01;
												r2_n = __rol(r2_n, r2_n) - r0;
												if (r2_n < 0x00)
													goto l12D4;
												goto l1368;
											}
l1354:
											r3_n = r3_n + 0x01 << 0x01;
											r2_n = __rol(r2_n, r2_n) - r0;
											if (r2_n < 0x00)
												goto l12CC;
											goto l135E;
										}
l134A:
										r3_n = r3_n + 0x01 << 0x01;
										r2_n = __rol(r2_n, r2_n) - r0;
										if (r2_n < 0x00)
											goto l12C4;
										goto l1354;
									}
l1340:
									r3_n = r3_n + 0x01 << 0x01;
									r2_n = __rol(r2_n, r2_n) - r0;
									if (r2_n < 0x00)
										goto l12BC;
									goto l134A;
								}
l1336:
								r3_n = r3_n + 0x01 << 0x01;
								r2_n = __rol(r2_n, r2_n) - r0;
								if (r2_n < 0x00)
									goto l12B4;
								goto l1340;
							}
l132C:
							r3_n = r3_n + 0x01 << 0x01;
							r2_n = __rol(r2_n, r2_n) - r0;
							if (r2_n < 0x00)
								goto l12AC;
							goto l1336;
						}
l1322:
						r3_n = r3_n + 0x01 << 0x01;
						r2_n = __rol(r2_n, r2_n) - r0;
						if (r2_n < 0x00)
							goto l12A4;
						goto l132C;
					}
l1318:
					r3_n = r3_n + 0x01 << 0x01;
					r2_n = __rol(r2_n, r2_n) - r0;
					if (r2_n < 0x00)
						goto l129C;
					goto l1322;
				}
l130E:
				r3_n = r3_n + 0x01 << 0x01;
				r2_n = __rol(r2_n, r2_n) - r0;
				if (r2_n < 0x00)
					goto l1294;
				goto l1318;
			}
l1304:
			r3_n = r3_n + 0x01 << 0x01;
			r2_n = __rol(r2_n, r2_n) - r0;
			if (r2_n < 0x00)
				goto l128C;
			goto l130E;
		}
	}
	else
	{
		r3_n = (r3 << 0x01) + 0x01 << 0x01;
		r2_n = __rol(r2_n, r2_n) - r0;
		if (r2_n < 0x00)
			goto l127C;
	}
	r3_n = r3_n + 0x01 << 0x01;
	r2_n = __rol(r2_n, r2_n) - r0;
	if (r2_n < 0x00)
		goto l1284;
	goto l1304;
}

// 13AA: void fn13AA(Stack (ptr16 Eq_n) ptrArg00)
void fn13AA(struct Eq_n * ptrArg00)
{
	globals->w25C0 = 0xF700;
	ci16 r0_n = ptrArg00->w0000;
	if (r0_n <= 0x00)
		r0_n = -r0_n;
	do
		--r0_n;
	while (r0_n > 0x00);
	do
	{
		__wait();
		struct Eq_n * sp_n = (struct Eq_n *) <invalid>;
		ci16 r2_n;
	} while (globals->w0070 - fn1578(out r2_n, out r3_n, out r4_n) > 0x00);
	sp_n->w0000 += 0x02;
	if (r2_n < 0x00)
		return;
	__reset();
	word16 * r0_n = globals->a182A;
	int16 r1_n;
	for (r1_n = 500; r1_n > 0x00; --r1_n)
	{
		*r0_n = 0xF700;
		word16 * r0_n = r0_n + 0x01;
		*r0_n = 0x00;
		r0_n = r0_n + 0x01;
	}
	word16 * r0_n = globals->a34E0;
	int16 r1_n;
	for (r1_n = 711; r1_n > 0x00; --r1_n)
	{
		*r0_n = 0xF700;
		word16 * r0_n = r0_n + 0x01;
		*r0_n = 0x00;
		r0_n = r0_n + 0x01;
	}
	*(word16 *) ~0x01 = 0x00;
	word16 * r0_n = globals->a013E;
	while (true)
	{
		word16 * v23_n = *r0_n;
		word16 * r0_n = r0_n + 0x01;
		if (v23_n == null)
			break;
		*v23_n = *r0_n;
		r0_n = r0_n + 0x01;
	}
	while (true)
		fn0128();
}

// 1578: Register word16 fn1578(Register out ptr16 r2Out, Register out ptr16 r3Out, Register out ptr16 r4Out)
word16 fn1578(ptr16 & r2Out, ptr16 & r3Out, ptr16 & r4Out)
{
	ptr16 sp_n = fp - 0x0C;
	struct Eq_n * r4_n = null;
	while (true)
	{
		struct Eq_n * r5_n = r4_n[2886];
		if (r5_n == null)
			break;
		*((word16) r4_n[0x0B4B] + 0x0012) = (struct Eq_n) ((char *) r5_n + 0x0A);
		Eq_n r3_n = *r5_n->ptrFFFC;
		Eq_n r0_n = r5_n->tFFFE;
		if (r0_n != 0x00)
		{
			if (r3_n <= 0x00)
				r3_n = -r3_n;
			fn126C(r0_n, 0x00, r3_n, out r3_n);
			if (*r5_n->ptrFFFC <= 0x00)
				r3_n = -r3_n;
		}
		fn1674(r3_n, (word16) r4_n[0x0B4B] + 0x0A);
		sp_n += 0x02;
		++r4_n;
	}
	if (globals->t0062 - globals->t0060 != 0x00)
	{
		Eq_n r0_n = globals->t0060;
		globals->t0062 = r0_n;
		fn1674(r0_n, &globals->t25B8);
		sp_n += 0x02;
	}
	struct Eq_n * sp_n = sp_n + 0x02;
	ptr16 r4_n = sp_n->ptr0000;
	ptr16 r3_n = sp_n->ptr0002;
	word16 r1_n = sp_n->w0006;
	r2Out = sp_n->ptr0004;
	r3Out = r3_n;
	r4Out = r4_n;
	return r1_n;
}

// 15F2: Register (ptr16 Eq_n) fn15F2(Register Eq_n r0, Register (ptr16 Eq_n) r1)
struct Eq_n * fn15F2(Eq_n r0, struct Eq_n * r1)
{
	ptr16 ptrLoc02_n;
	r1->t0000.u0 = 0x20;
	if (r0 > 10000)
	{
		r1->b0001 = 0x20;
		ptrLoc02_n = 0x00;
	}
	else
	{
		r1->b0001 = 0x30;
		ptrLoc02_n = 0x163C;
		for (; r0 <= 10000; r0 -= 10000)
			++r1->b0001;
	}
	Eq_n r2_n;
	union Eq_n * r3_n;
	if (r0 <= 100)
	{
		cui16 r3_n;
		r2_n = fn126C(100, 0x00, r0, out r3_n);
		r3_n = (r3_n << 0x01) + 10260;
	}
	else
	{
		r2_n = r0;
		r3_n = &globals->t2814;
	}
	union Eq_n * r3_n;
	union Eq_n * r3_n;
	return fn1658(fn1658(fn1658(fn1658(&r1->b0001 + 0x01, r3_n, ptrLoc02_n, out r3_n), r3_n, ptrLoc02_n, out r3_n), (r2_n << 0x01) + 10260, ptrLoc02_n, out r3_n), r3_n, 0x1630, out r3_n);
}

// 1658: Register (ptr16 Eq_n) fn1658(Register (ptr16 Eq_n) r1, Register (ptr16 Eq_n) r3, Stack ptr16 wArg02, Register out ptr16 r3Out)
struct Eq_n * fn1658(struct Eq_n * r1, union Eq_n * r3, ptr16 wArg02, ptr16 & r3Out)
{
	if (wArg02 != 0x00 || *r3 != 0x30)
	{
		r1->t0000 = *r3;
		return;
	}
	else
	{
		r1->t0000.u0 = 0x20;
		return;
	}
}

// 1674: void fn1674(Register Eq_n r0, Register (ptr16 Eq_n) r1)
void fn1674(Eq_n r0, struct Eq_n * r1)
{
	if (r0 > 0x00)
		fn15F2(r0, r1);
	else
	{
		word16 * r0_n = fn15F2(-r0, r1);
		do
			r0_n -= 0x02;
		while (*r0_n != 0x20);
		*r0_n = (word16) 0x2D;
	}
}

// 34E0: void fn34E0()
void fn34E0()
{
	__reset();
	__reset();
	__reset();
	__reset();
	__reset();
	*(word16 *) ~0x01 = 0x00;
	globals->w0004 = 13638;
	globals->w0006 = 0x00;
	*(word16 *) ~0x0471 = 0x00;
	fn355A();
	*(word16 *) ~0x0471 = 131;
	fn355A();
	*(word16 *) ~0x0471 = 131;
	fn355A();
	*(word16 *) ~0x0471 = 0x4B;
	fn355A();
	*(word16 *) ~0x0471 = 0x2F;
	fn355A();
	*(word16 *) ~0x0471 = 0x46;
	fn355A();
	*(word16 *) ~0x0471 = 0x0D;
	fn355A();
	*(word16 *) ~0x99 = 0x40;
	*(word16 *) 0xF400 = 13666;
	fn13AA(*(struct Eq_n **) 0x3FFC);
}

// 355A: void fn355A()
void fn355A()
{
	do
		;
	while (*(ci8 *) 64396 > 0x00);
}

